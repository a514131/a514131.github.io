window.__require=function t(e,i,n){function o(c,a){if(!i[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!a&&h)return h(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var u=i[c]={exports:{}};e[c][0].call(u.exports,function(t){return o(e[c][1][t]||t)},u,u.exports,t,e,i,n)}return i[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)o(n[c]);return o}({Background:[function(t,e){"use strict";cc._RF.push(e,"4b972o4laVMA7mgYK4qKdY6","Background"),cc.Class({extends:cc.Component,properties:{backgroundNode1:cc.Node,backgroundNode2:cc.Node,backgroundNode3:cc.Node,backgroundNode4:cc.Node,backgroundNode5:cc.Node,backgroundNode6:cc.Node,backgroundNode7:cc.Node,backgroundNode8:cc.Node,backgroundNode9:cc.Node,bgSize:{default:3e3,type:cc.Integer},bg5_X:{default:0,type:cc.Integer},bg5_Y:{default:0,type:cc.Integer}},onLoad:function(){window.Background=this,this.bgSize=3e3,this.backgrounds=[[this.backgroundNode1,this.backgroundNode2,this.backgroundNode3],[this.backgroundNode4,this.backgroundNode5,this.backgroundNode6],[this.backgroundNode7,this.backgroundNode8,this.backgroundNode9]]},update:function(){cc.isValid(window.Selfstar)&&(window.Selfstar.x>this.bg5_X+this.bgSize/2?this.adjustBackgroundPosition("\u53f3"):window.Selfstar.x<this.bg5_X-this.bgSize/2?this.adjustBackgroundPosition("\u5de6"):window.Selfstar.y>this.bg5_Y+this.bgSize/2?this.adjustBackgroundPosition("\u4e0a"):window.Selfstar.y<this.bg5_Y-this.bgSize/2&&this.adjustBackgroundPosition("\u4e0b"))},adjustBackgroundPosition:function(t){switch(t){case"\u4e0a":this.changeAllNodeXY(0,-this.bgSize);for(var e=0;e<3;e++)this.backgrounds[2][e].y+=3*this.bgSize,this.backgrounds[2][e].scaleY*=-1;this.backgrounds.unshift(this.backgrounds.pop()),window.CanvasComponent.changeSelfY(1);break;case"\u4e0b":this.changeAllNodeXY(0,this.bgSize);for(var i=0;i<3;i++)this.backgrounds[0][i].y-=3*this.bgSize,this.backgrounds[0][i].scaleY*=-1;this.backgrounds.push(this.backgrounds.shift()),window.CanvasComponent.changeSelfY(-1);break;case"\u5de6":this.changeAllNodeXY(this.bgSize,0);for(var n=0;n<3;n++)this.backgrounds[n][2].x-=3*this.bgSize,this.backgrounds[n][2].scaleX*=-1;for(var o=0;o<this.backgrounds.length;o++)this.backgrounds[o].unshift(this.backgrounds[o].pop());window.CanvasComponent.changeSelfX(-1);break;case"\u53f3":this.changeAllNodeXY(-this.bgSize,0);for(var s=0;s<3;s++)this.backgrounds[s][0].x+=3*this.bgSize,this.backgrounds[s][0].scaleX*=-1;for(var c=0;c<this.backgrounds.length;c++)this.backgrounds[c].push(this.backgrounds[c].shift());window.CanvasComponent.changeSelfX(1)}},changeAllNodeXY:function(t,e){for(var i=0;i<this.node.children.length;i++)this.node.children[i].x+=t,this.node.children[i].y+=e;window.Selfstar.x+=t,window.Selfstar.y+=e;for(var n=0;n<window.Universe.node.children.length;n++)window.Universe.node.children[n].x+=t,window.Universe.node.children[n].y+=e},isOutSide:function(t,e){return Math.abs(t-this.bg5_X)>.75*this.bgSize||Math.abs(e-this.bg5_Y)>.75*this.bgSize}}),cc._RF.pop()},{}],Camera:[function(t,e){"use strict";cc._RF.push(e,"f93c8g43oZDxpl1QenEko+A","Camera"),cc.Class({extends:cc.Component,properties:{cameraW:1600,cameraH:900},onload:function(){window.Camera=this}}),cc._RF.pop()},{}],Canvas:[function(t,e){"use strict";cc._RF.push(e,"5fcaf0LR5FOUKLA4xQm3SIR","Canvas"),cc.Class({extends:cc.Component,properties:{centerX:{default:75},centerY:{default:75},selfX:{default:5},selfY:{default:5},distanceCenter:{default:0},distanceCenterMax:{default:0},beseRadius:2,forceSet:0,buffNum:0,growthRate:1,increaseRate:1.5,maxSpeed:250,twoDimenMap:null,changeWH:{default:[],type:cc.Node},smallCanvasW:1600,smallCanvasH:900,largeCanvasW:2560,largeCanvasH:1440},setMaxSpeed:function(t){this.maxSpeed=t},onLoad:function(){var t=2*this.centerY,e=2*this.centerX;this.twoDimenMap=new Array(t);for(var i=0;i<t;i++)this.twoDimenMap[i]=new Array(e).fill(0);this.twoDimenMap[this.selfY][this.selfX]=1,window.stars||(window.stars=[]),window.buffs||(window.buffs=[]),window.CanvasComponent=this,this.getDistance(),this.distanceCenterMax=Math.sqrt(this.centerX*this.centerX+this.centerY*this.centerY),cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.winSize=cc.view.getVisibleSize(),this.winSizeInPixels=cc.view.getFrameSize(),this.smallCanvasW=this.winSizeInPixels.width/this.winSizeInPixels.height*this.smallCanvasH,this.largeCanvasW=this.winSizeInPixels.width/this.winSizeInPixels.height*this.largeCanvasH,console.log("\u53ef\u89c1\u5927\u5c0f (in points):",this.winSize.width,this.winSize.height),console.log("\u5c4f\u5e55\u5927\u5c0f (in pixels):",this.winSizeInPixels.width,this.winSizeInPixels.height),this.setCanvasWH("small")},changeSelfX:function(t){this.selfX+=t,this.getDistance(),this.changeNumStars()},changeSelfY:function(t){this.selfY+=t,this.getDistance(),this.changeNumStars()},changeNumStars:function(){0==this.twoDimenMap[this.selfY][this.selfX]&&(window.Universe.changeNumStars(25),this.twoDimenMap[this.selfY][this.selfX]=1)},getDistance:function(){var t=this.centerX-this.selfX,e=this.centerY-this.selfY;this.distanceCenter=Math.sqrt(t*t+e*e)},setBeseRadius:function(t){this.beseRadius=t,this.refreshStarsScale()},refreshStarsScale:function(){window.stars||(window.stars=[]);for(var t=0;t<window.stars.length;t++){var e=window.stars[t];cc.isValid(e)&&e.getComponent("physics").refreshScale()}},getBeseRadius:function(){return this.beseRadius},setCanvasWH:function(t){var e=1600,i=900;"small"==t?(e=this.smallCanvasW,i=this.smallCanvasH):"large"==t&&(e=this.largeCanvasW,i=this.largeCanvasH);var n=this.node.getComponent(cc.Canvas);n.designResolution=new cc.Size(e,i),n.fitHeight=!0,n.fitWidth=!0,this.changeWH[0].width=e,this.changeWH[0].height=i,this.changeWH[1].width=i,this.changeWH[1].height=e,this.changeWH[2].width=i,this.changeWH[2].height=e,this.changeWH[3].width=e,this.changeWH[3].height=i,cc.isValid(this.changeWH[4])&&(this.changeWH[4].width=e,this.changeWH[4].height=i),window.Tips&&window.Tips.setButtonAndMap(e,i)},applyBuff:function(t){var e=this;this.buffNum!=t&&(this.removeBuff(),5==this.buffNum?this.setCanvasWH("small"):6==this.buffNum||(1==this.buffNum||2==this.buffNum||3==this.buffNum?this.setForceSet(0):4==this.buffNum&&this.setGrowthRate(1))),this.buffNum=t,window.Tips.changeBuff(t),5==this.buffNum?this.setCanvasWH("large"):6==this.buffNum||(1==this.buffNum||2==this.buffNum||3==this.buffNum?this.setForceSet(this.buffNum):4==this.buffNum&&this.setGrowthRate(3)),this.buffTimer=setTimeout(function(){e.removeBuff(),e.buffNum=0,5==t?e.setCanvasWH("small"):6==t||(1==t||2==t||3==t?e.setForceSet(0):4==t&&e.setGrowthRate(1))},3e4)},removeBuff:function(){this.buffTimer&&(clearTimeout(this.buffTimer),this.buffTimer=null)},setForceSet:function(t){this.forceSet=t},setGrowthRate:function(t){this.growthRate=t},getDirection:function(){var t=this.centerX-this.selfX,e=this.centerY-this.selfY;return-(Math.atan2(t,e)*(180/Math.PI)+360)%360}}),cc._RF.pop()},{}],Logo:[function(t,e){"use strict";cc._RF.push(e,"177a7RZjsNA9oY84PL2RACQ","Logo"),cc.Class({extends:cc.Component,properties:{m_logoyu:cc.Node},start:function(){this.logoyuAction()},logoyuAction:function(){var t=this;this.node.x=0,this.node.y=0;var e=20*Math.random(),i=20*Math.random(),n=cc.v2(this.node.x+e,this.node.y+i),o=cc.sequence(cc.moveTo(1,n),cc.callFunc(function(){this.logoyuAction()}.bind(this)));this.m_logoyu.runAction(o);var s=cc.delayTime(5),c=cc.callFunc(function(){t.node.destroy()}),a=cc.fadeOut(1),r=cc.sequence(s,a,c);this.node.runAction(r)}}),cc._RF.pop()},{}],Meteor:[function(t,e){"use strict";cc._RF.push(e,"bc3c444HeRCpJNLaZbiN0a3","Meteor"),cc.Class({extends:cc.Component,properties:{m_speedX:cc.Float,m_speedY:cc.Float,m_len:cc.Float},onLoad:function(){this.init()},init:function(){this.setSpeed();var t=90*Math.tanh(this.m_speedX/this.m_speedY)/Math.PI;this.node.angle=2*-t;var e=this.node.children[1].getComponent(cc.ParticleSystem);if(e){var i=e.startColor;i=this.createColor(),e.startColor=i}else console.error("\u672a\u627e\u5230\u7c92\u5b50\u7ec4\u4ef6")},createColor:function(){var t=new Array,e=parseInt(3*Math.random()),i=parseInt(2*Math.random()+1),n=3-i;return t[e]=200,t[(e+i)%3]=70,t[(e+n)%3]=parseInt(130*Math.random()+70),new cc.Color(t[0],t[1],t[2])},setSpeed:function(){this.node.x>0?this.m_speedX=this.random(0,150):this.m_speedX=this.random(-150,0),this.m_speedY=this.random(200,300)},random:function(t,e){return Math.random()*(e-t)+t},update:function(t){this.node.x-=t*this.m_speedX,this.node.y-=t*this.m_speedY}}),cc._RF.pop()},{}],MovedBySelfStar:[function(t,e){"use strict";cc._RF.push(e,"23cc88ob19K6ItKTMN2myqB","MovedBySelfStar"),cc.Class({extends:cc.Component,properties:{selfstar:{default:null,type:cc.Node}},update:function(){cc.isValid(this.selfstar)&&(this.node.x=this.selfstar.x,this.node.y=this.selfstar.y)}}),cc._RF.pop()},{}],Music:[function(t,e){"use strict";cc._RF.push(e,"d0656pdYylDIYvcmJS3Fo4u","Music"),cc.Class({extends:cc.Component,properties:{music:null,isLoad:!1},onLoad:function(){cc.loader.loadRes("bg",cc.AudioClip,function(t,e){t?console.error("Failed to load bg audio:",t):(console.log("Successfully loaded bg audio:",e),cc.audioEngine.playMusic(e,!0),cc.audioEngine.setMusicVolume(.5))}),this.music=!1,this.preloadAudio(),window.Music=this},stopMusic:function(){cc.audioEngine.stopAll(),this.music=!1},preloadAudio:function(){cc.loader.loadRes("crash",cc.AudioClip,function(){}),cc.loader.loadRes("boom",cc.AudioClip,function(){}),cc.loader.loadRes("buff",cc.AudioClip,function(){}),cc.loader.loadRes("equip",cc.AudioClip,function(){}),cc.loader.loadRes("button",cc.AudioClip,function(){})},playMusic:function(t){var e="";if("crash"==t?e="crash":"boom"==t?e="boom":"buff"==t?e="buff":"equip"==t?e="equip":"button"==t&&(e="button"),""!==e){var i=cc.loader.getRes(e,cc.AudioClip);cc.audioEngine.playEffect(i,!1)}}}),cc._RF.pop()},{}],Selfstar:[function(t,e){"use strict";cc._RF.push(e,"113d19wsnlJF7wk7lw+4CAU","Selfstar"),cc.Class({extends:cc.Component,properties:{acceleration:1e3,friction:500},start:function(){window.Selfstar=this.node,window.SelfstarScript=this,this.horizontalSpeed=0,this.verticalSpeed=0,this.horizontalInput=0,this.verticalInput=0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),WebviewBridge.openGSensor(1),WebviewBridge.setP1MoveCallback(this.onLRMoveCallBack,this)},onLRMoveCallBack:function(t,e){window.mouse.changeWatchXY(t,e),this.verticalInput=window.mouse.verticalInput,this.horizontalInput=window.mouse.horizontalInput},setVerticalInput:function(t){this.verticalInput=t},setHorizontalInput:function(t){this.horizontalInput=t},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.left:this.horizontalInput=-1;break;case cc.macro.KEY.right:this.horizontalInput=1;break;case cc.macro.KEY.up:this.verticalInput=1;break;case cc.macro.KEY.down:this.verticalInput=-1}},onKeyUp:function(t){switch(t.keyCode){case cc.macro.KEY.left:case cc.macro.KEY.right:this.horizontalInput=0;break;case cc.macro.KEY.up:case cc.macro.KEY.down:this.verticalInput=0}},update:function(t){var e=window.CanvasComponent.maxSpeed;this.horizontalInput?(this.horizontalSpeed+=this.acceleration*this.horizontalInput*t*2,this.horizontalSpeed=Math.max(Math.min(this.horizontalSpeed,e),-e)):(this.horizontalSpeed-=this.friction*Math.sign(this.horizontalSpeed)*t*2,Math.abs(this.horizontalSpeed)<1&&(this.horizontalSpeed=0)),this.verticalInput?(this.verticalSpeed+=this.acceleration*this.verticalInput*t*2,this.verticalSpeed=Math.max(Math.min(this.verticalSpeed,e),-e)):(this.verticalSpeed-=this.friction*Math.sign(this.verticalSpeed)*t*2,Math.abs(this.verticalSpeed)<1&&(this.verticalSpeed=0)),this.node.x+=this.horizontalSpeed*t,this.node.y+=this.verticalSpeed*t}}),cc._RF.pop()},{}],Tips:[function(t,e){"use strict";cc._RF.push(e,"3d2d7kLBq1MtKPIz2hUYcpe","Tips"),cc.Class({extends:cc.Component,properties:{textPrefab:{default:null,type:cc.Prefab},buffButton:cc.Node,equipButton:cc.Node,mapNode:cc.Node,introNode:cc.Node},showCenterText:function(t){var e=cc.instantiate(this.textPrefab);this.node.addChild(e),e.getComponent("text").showText(t)},onLoad:function(){window.Tips=this},setButtonAndMap:function(t,e){this.buffButton.x=-(t/2-150),this.equipButton.x=-(t/2-150),this.mapNode.x=t/2-150,this.introNode.x=-(t/2-150),this.buffButton.y=-(e/2-270),this.equipButton.y=-(e/2-150),this.mapNode.y=e/2-150,this.introNode.y=e/2-150},changeBuff:function(t){this.buffButton.getComponent("button").changeBuff(t)},changeEquip:function(t){this.equipButton.getComponent("button").changeEquip(t)},startTips:function(){var t=this,e=cc.callFunc(function(){t.showCenterText("\u03c0\u840c:\u6b22\u8fce\u6765\u5230\u661f\u96e8")}),i=cc.callFunc(function(){t.showCenterText("\u5de6\u4e0a\u89d2\u6309\u94ae\u662f\u8bf4\u660e \u53f3\u4e0a\u89d2\u662f\u94f6\u6cb3\u7cfb\u5730\u56fe")}),n=cc.callFunc(function(){t.showCenterText("\u4f60\u9700\u8981\u4e0d\u65ad\u541e\u566c\u53d8\u5f97\u66f4\u52a0\u5f3a\u5927")}),o=cc.callFunc(function(){t.showCenterText("\u5f80\u94f6\u6cb3\u7cfb\u4e2d\u5fc3\u9760\u8fd1\u53ef\u4ee5\u78b0\u5230\u66f4\u5927\u5929\u4f53")}),s=cc.sequence(e,cc.delayTime(3),i,cc.delayTime(3),n,cc.delayTime(3),o);this.node.runAction(s)}}),cc._RF.pop()},{}],Universe:[function(t,e){"use strict";var i;cc._RF.push(e,"92cf8EgqLJN9KyjPUwQcdoY","Universe"),cc.Class({extends:cc.Component,properties:(i={starPrefab:{default:null,type:cc.Prefab},canvasSize:cc.v2(2500,2500),numStars:30,numStarsMax:50,spriteFrames:{default:[],type:cc.SpriteFrame},spriteFramesAll:0,lock:!1,halos:{default:[],type:cc.SpriteFrame},starToHalo:{default:[],type:cc.Integer},buffPrefab:{default:null,type:cc.Prefab},equipPrefab:{default:null,type:cc.Prefab},numBuffs:7,buffsLabel:{default:[],type:cc.Prefab},buffsPrefab:{default:[],type:cc.Prefab},equipsPrefab:{default:[],type:cc.Prefab},selfNode:{default:null,type:cc.Node},meteorPrefab:{default:null,type:cc.Prefab}},i.meteorPrefab={default:null,type:cc.Prefab},i.rainbowPrefab={default:null,type:cc.Prefab},i.timeElapsed=1,i),onLoad:function(){this.starToHalo=[4,2,2,4,4,3,0,1,4,4,3],this.buffsLabel=["\u6211\u6709\u5f15\u529b","\u4e07\u6709\u5f15\u529b","\u4e07\u6709\u65a5\u529b","\u4e07\u65e0\u5f15\u529b","\u4e09\u500d\u6210\u957f","\u53cc\u500d\u89c6\u91ce","\u8d85\u500d\u5f15\u529b","\u987a\u624b\u7275\u7f8a"],this.spriteFramesAll=this.spriteFrames.length,window.Universe=this,this.generateRainbow()},generateStars:function(t){var e=this;this.lock=!0;var i=0;(function n(){for(var o=0;o<1&&i<t;o++){var s=Math.random()*e.canvasSize.x-e.canvasSize.x/2,c=Math.random()*e.canvasSize.y-e.canvasSize.y/2;Math.abs(s-window.Selfstar.x)<300&&(s+=300*(s<window.Selfstar.x?-1:1)),Math.abs(c-window.Selfstar.y)<300&&(c+=300*(c<window.Selfstar.y?-1:1));var a=cc.instantiate(e.starPrefab);e.node.addChild(a),a.setPosition(s,c),i+=1}i<t?requestAnimationFrame(n):e.lock=!1})()},generateBuffs:function(t){var e=this;this.lock=!0;var i=0;(function n(){for(var o=0;o<1&&i<t;o++){var s=Math.random()*e.canvasSize.x-e.canvasSize.x/2,c=Math.random()*e.canvasSize.y-e.canvasSize.y/2;Math.abs(s-window.Selfstar.x)<300&&(s+=300*(s<window.Selfstar.x?-1:1)),Math.abs(c-window.Selfstar.y)<300&&(c+=300*(c<window.Selfstar.y?-1:1));var a=cc.instantiate(e.buffPrefab);e.node.addChild(a),a.setPosition(s,c);var r=250*Math.random()-125,h=250*Math.random()-125;a.getComponent("buff").setSpeed(r,h);var u=e.randomRange(1,e.buffsLabel.length);a.getComponent("buff").setBuffNum(u,e.buffsLabel[u]),i+=1}i<t?requestAnimationFrame(n):e.lock=!1})()},randomRange:function(t,e){return Math.floor(Math.random()*(e-t))+t},update:function(){var t=window.stars.length-1,e=window.buffs.length-1;!this.lock&&t<this.numStars&&this.generateStars(this.numStars-t),!this.lock&&e<this.numBuffs&&this.generateBuffs(this.numBuffs-e),this.lock||this.deleteOutNode()},generateRainbow:function(){var t=this;this.schedule(function(){if(t.timeElapsed%60==0){var e=cc.instantiate(t.meteorPrefab),i=2e3*(Math.random()-.5),n=500*(Math.random()-.5)+1500;e.setPosition(i,n),t.node.addChild(e)}if(t.timeElapsed%250==0){var o=cc.instantiate(t.rainbowPrefab),s=2e3*(Math.random()-.5),c=500*(Math.random()-.5)+1500;o.setPosition(s,c),t.node.addChild(o)}t.timeElapsed++},1)},deleteOutNode:function(){for(var t=this.node.children,e=0;e<t.length;e++){var i=t[e];this.isOutSide(i.x,i.y)&&i.destroy()}},changeNumStars:function(t){if(this.numStars=Math.min(this.numStars+t,this.numStarsMax),15==this.numStars||10==this.numStars||5==this.numStars||2==this.numStars||0==this.numStars){var e=Math.random();e<.5?window.Tips.showCenterText("\u524d\u5f80\u65b0\u7684\u533a\u57df\u624d\u4f1a\u9047\u5230\u66f4\u591a\u661f\u7403"):e>.75?window.Tips.showCenterText("\u8d8a\u9760\u8fd1\u94f6\u6cb3\u4e2d\u5fc3\uff0c\u5929\u4f53\u8d28\u91cf\u548c\u4f53\u79ef\u8d8a\u5927"):window.Tips.showCenterText("\u4e0d\u60f3\u9047\u5230\u5927\u5929\u4f53\uff0c\u53ef\u4ee5\u6cbf\u7740\u94f6\u6cb3\u8fb9\u7f18\u8d70")}},getHalo:function(t){return this.halos[this.starToHalo[t]]},isOutSide:function(t,e){if(!cc.isValid(this.selfNode))return!1;var i=this.canvasSize.x/2;return Math.abs(t-this.selfNode.x)>1*i||Math.abs(e-this.selfNode.y)>1*i}}),cc._RF.pop()},{}],WebviewBridge:[function(t,e){"use strict";cc._RF.push(e,"4abdeK/bUNG167uNs6x+r9l","WebviewBridge");var i=new(function(){function t(){this.onP1GSensorCallback=null,this.onP1GSensorCallbackObj=null,this.onP2GSensorCallback=null,this.onP2GSensorCallbackObj=null,this.onSetP2DataCallback=null,this.onSetP2DataCallbackObj=null,this.onP1MoveCallback=null,this.onP1MoveCallbackObj=null,this.onP2MoveCallback=null,this.onP2MoveCallbackObj=null,this.actionOperationCb=null,this.actionOperationCbObj=null,this.terminationGameCb=null,this.terminationGameCbObj=null,this.onVKeyboardNumCb=null,this.onVKeyboardNumCbObj=null}var e=t.prototype;return e.isAndroid=function(){var t=navigator.userAgent;return t.indexOf("Android")>-1||t.indexOf("Adr")>-1},e.isIos=function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},e.setP1GSensorCallback=function(t,e){this.onP1GSensorCallback=t,this.onP1GSensorCallbackObj=e},e.setP2GSensorCallback=function(t,e){this.onP2GSensorCallback=t,this.onP2GSensorCallbackObj=e},e.cleanP1GSensorCallback=function(){this.onP1GSensorCallback=null,this.onP1GSensorCallbackObj=null},e.cleanP2GSensorCallback=function(){this.onP2GSensorCallback=null,this.onP2GSensorCallbackObj=null},e.setP1MoveCallback=function(t,e){this.onP1MoveCallback=t,this.onP1MoveCallbackObj=e},e.setP2MoveCallback=function(t,e){this.onP2MoveCallback=t,this.onP2MoveCallbackObj=e},e.setTerminationGameCb=function(t,e){this.terminationGameCb=t,this.terminationGameCbObj=e},e.setVKeyboardNumCb=function(t,e){this.onVKeyboardNumCb=t,this.onVKeyboardNumCbObj=e},e.getP1Data=function(){return this.isIos()?window.prompt&&window.prompt(JSON.stringify({func:"getP1Data"})):this.isAndroid()?window.wjsb&&window.wjsb.jsGetP1Data():JSON.stringify({userId:10045,name:"TestGM",head:"https://mp.weixin.qq.com/mpres/htmledition/images/pic/common/pic_kf_qrcode.jpg",exp:2})},e.openGSensor=function(t){return this.isIos()?window.prompt&&window.prompt(JSON.stringify({func:"openGSensor",args:""+t})):this.isAndroid()?window.wjsb&&window.wjsb.jsOpenGSensor(t):void 0},e.changeVirtualPanel=function(t){return this.isIos()?window.prompt&&window.prompt(JSON.stringify({func:"jsVirtualKeys",args:""+t})):this.isAndroid()?window.wjsb&&window.wjsb.jsVirtualKeys(t):void 0},e.closeGSensor=function(t){return this.isIos()?window.prompt&&window.prompt(JSON.stringify({func:"closeGSensor",args:""+t})):this.isAndroid()?window.wjsb&&window.wjsb.jsCloseGSensor(t):void 0},e.closeP1GSensor=function(){return this.isIos()?window.prompt&&window.prompt(JSON.stringify({func:"closeP1GSensor"})):this.isAndroid()?window.wjsb&&window.wjsb.jsCloseP1GSensor():void 0},e.closeP2GSensor=function(){return this.isIos()?window.prompt&&window.prompt(JSON.stringify({func:"closeP2GSensor"})):this.isAndroid()?window.wjsb&&window.wjsb.jsCloseP2GSensor():void 0},e.getGameInfo=function(){return this.isIos()?window.prompt&&window.prompt(JSON.stringify({func:"getGameInfo"})):this.isAndroid()?window.wjsb&&window.wjsb.jsGetGameInfo():'{"token":"smhl","gid":32,"uid":10045,"joinRaceId":21091540201,"serverUrl":"http://120.79.17.22:10002"}'},e.closeGame=function(){return this.isIos()?window.prompt&&window.prompt(JSON.stringify({func:"closeGame"})):this.isAndroid()?window.wjsb&&window.wjsb.jsCloseGame():void 0},e.terminationGame=function(){this.terminationGameCb&&(this.terminationGameCbObj?this.terminationGameCb.call(this.terminationGameCbObj):this.terminationGameCb())},e.moveP1Game=function(t,e,i,n,o,s,c,a,r){this.onP1MoveCallback&&(this.onP1MoveCallbackObj?this.onP1MoveCallback.call(this.onP1MoveCallbackObj,t,e,i,n,o,s,c,a,r):this.onP1MoveCallback(t,e,i,n,o,s,c,a,r))},e.moveP2Game=function(t,e,i,n,o,s,c,a,r){this.onP2MoveCallback&&(this.onP2MoveCallbackObj?this.onP2MoveCallback.call(this.onP2MoveCallbackObj,t,e,i,n,o,s,c,a,r):this.onP2MoveCallback(t,e,i,n,o,s,c,a,r))},e.getVKeyboardNum=function(t){this.onVKeyboardNumCb&&(this.onVKeyboardNumCbObj?this.onVKeyboardNumCb.call(this.onVKeyboardNumCbObj,t):this.onVKeyboardNumCb(t))},e.reset=function(){window.WebviewBridge=new this.__proto__.constructor},t}());window.WebviewBridge=i,cc._RF.pop()},{}],Zhiying:[function(t,e){"use strict";cc._RF.push(e,"052481S6p9JBYrnEokNiBpi","Zhiying"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},onTouchStart:function(){this.node.destroy()},start:function(){}}),cc._RF.pop()},{}],bigIntro:[function(t,e){"use strict";cc._RF.push(e,"d154aan9ZlDmbyP+4H+4Mqo","bigIntro"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},onTouchStart:function(){this.node.destroy()},start:function(){this.node.setPosition(0,-10),this.node.opacity=0;var t=cc.fadeIn(.5),e=cc.moveBy(.5,cc.v2(0,10)),i=cc.spawn(t,e);this.node.runAction(i);window.CanvasComponent.centerX,window.CanvasComponent.centerY,window.CanvasComponent.selfX,window.CanvasComponent.selfY;var n=(this.node.width,this.node.height,this.node.children),o=cc.moveBy(.5,cc.v2(0,20)),s=cc.moveBy(.5,cc.v2(0,-20)),c=cc.sequence(o,s);n[1].runAction(cc.repeatForever(c))},update:function(){}}),cc._RF.pop()},{}],bigMap:[function(t,e){"use strict";cc._RF.push(e,"3c89cNsIPlFWqM1okQKDY4l","bigMap"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},onTouchStart:function(){this.node.destroy()},start:function(){this.node.setPosition(0,-10),this.node.opacity=0;var t=cc.fadeIn(.5),e=cc.moveBy(.5,cc.v2(0,10)),i=cc.spawn(t,e);this.node.runAction(i);var n=window.CanvasComponent.centerX,o=window.CanvasComponent.centerY,s=(window.CanvasComponent.selfX-n)/n*300,c=(window.CanvasComponent.selfY-o)/o*300,a=this.node.children;a[1].x=s,a[1].y=c,a[2].x=s,a[2].y=c+50;var r=cc.moveBy(.5,cc.v2(0,20)),h=cc.moveBy(.5,cc.v2(0,-20)),u=cc.sequence(r,h);a[2].runAction(cc.repeatForever(u)),window.Tips.showCenterText("\u4f60\u73b0\u5728\u6b63\u5728\u94f6\u6cb3\u7cfb\u7684\u8fd9\u91cc\uff01\uff01\uff01")},update:function(){var t=this;(Math.abs(window.map.mouse.x)>this.node.width||Math.abs(window.map.mouse.y)>this.node.height)&&this.scheduleOnce(function(){var e=cc.fadeOut(.5),i=cc.moveBy(.5,cc.v2(0,-10)),n=cc.spawn(e,i),o=cc.callFunc(function(){t.node.destroy()}),s=cc.sequence(n,o);t.node.runAction(s)},.5)}}),cc._RF.pop()},{}],buff:[function(t,e){"use strict";cc._RF.push(e,"e1191wkaxNNGLwBLodx/K04","buff"),cc.Class({extends:cc.Component,properties:{buffNum:0,buffLabel:{default:null,type:cc.Label},speedX:0,speedY:0},onLoad:function(){window.buffs||(window.buffs=[]),window.buffs.push(this)},setBuffNum:function(t){this.buffNum=t;var e=cc.instantiate(window.Universe.buffsPrefab[t-1]);this.node.addChild(e)},start:function(){},setSpeed:function(t,e){this.speedX=t,this.speedY=e},update:function(t){this.node.x+=this.speedX*t,this.node.y+=this.speedY*t},onDestroy:function(){var t=window.buffs.indexOf(this);t>-1&&window.buffs.splice(t,1)},onCollisionEnter:function(){window.Music.playMusic("buff"),1==this.buffNum?window.Tips.showCenterText("\u4e07\u6709\u5f15\u529b: \u5168\u661f\u7403\u80fd\u76f8\u4e92\u5438\u5f15"):2==this.buffNum?window.Tips.showCenterText("\u4e07\u6709\u65a5\u529b: \u5168\u661f\u7403\u80fd\u76f8\u4e92\u6392\u65a5"):3==this.buffNum?window.Tips.showCenterText("\u4e07\u65e0\u5f15\u529b: \u5b87\u5b99\u4e0d\u5b58\u5728\u5f15\u529b"):4==this.buffNum?window.Tips.showCenterText("\u4e09\u500d\u6210\u957f: \u541e\u566c\u661f\u7403\u65f6\u6210\u957f\u52a0\u901f"):5==this.buffNum?window.Tips.showCenterText("\u53cc\u500d\u89c6\u91ce: \u53ef\u4ee5\u9065\u671b\u66f4\u8fdc\u661f\u6cb3"):6==this.buffNum?window.Tips.showCenterText("\u8d85\u500d\u5f15\u529b: \u661f\u7403\u5f15\u529b\u548c\u8303\u56f4\u90fd\u52a0\u5f3a"):7==this.buffNum&&window.Tips.showCenterText("\u795e\u5077: \u53ef\u4ee5\u5077\u53d6\u661f\u7403\u7684\u88c5\u5907\u6216\u6280\u80fd"),window.CanvasComponent.applyBuff(this.buffNum),this.node.destroy()}}),cc._RF.pop()},{}],button:[function(t,e){"use strict";cc._RF.push(e,"5b85dyirlRH6ZWTbthiN4WQ","button"),cc.Class({extends:cc.Component,properties:{tag:0,buffNum:0,equipNum:0,countdownPrefab:{default:null,type:cc.Prefab}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},onTouchStart:function(){0==this.buffNum&&0==this.equipNum||this.onCollisionEnter()},onCollisionEnter:function(){1==this.tag?1==this.buffNum?window.Tips.showCenterText("\u4e07\u6709\u5f15\u529b: \u5168\u661f\u7403\u80fd\u76f8\u4e92\u5438\u5f15"):2==this.buffNum?window.Tips.showCenterText("\u4e07\u6709\u65a5\u529b: \u5168\u661f\u7403\u80fd\u76f8\u4e92\u6392\u65a5"):3==this.buffNum?window.Tips.showCenterText("\u4e07\u65e0\u5f15\u529b: \u5b87\u5b99\u4e0d\u5b58\u5728\u5f15\u529b"):4==this.buffNum?window.Tips.showCenterText("\u4e09\u500d\u6210\u957f: \u541e\u566c\u661f\u7403\u65f6\u6210\u957f\u52a0\u901f"):5==this.buffNum?window.Tips.showCenterText("\u53cc\u500d\u89c6\u91ce: \u53ef\u4ee5\u9065\u671b\u66f4\u8fdc\u661f\u6cb3"):6==this.buffNum?window.Tips.showCenterText("\u8d85\u500d\u5f15\u529b: \u661f\u7403\u5f15\u529b\u548c\u8303\u56f4\u90fd\u52a0\u5f3a"):7==this.buffNum&&window.Tips.showCenterText("\u795e\u5077: \u53ef\u4ee5\u5077\u53d6\u661f\u7403\u7684\u88c5\u5907\u6216\u6280\u80fd"):2==this.tag&&(1==this.equipNum?window.Tips.showCenterText("\u76fe\u76fe\u6ce1\u6ce1: \u4fdd\u8bc1\u4e00\u6b21\u4e0d\u88ab\u541e\u566c\uff0c\u76f8\u5f53\u4e8e\u590d\u6d3b\u7532"):2==this.equipNum?window.Tips.showCenterText("\u524d\u8fdb\u6ce1\u6ce1: \u80fd\u4f7f\u661f\u7403\u79fb\u52a8\u66f4\u5feb"):3==this.equipNum?window.Tips.showCenterText("\u63a2\u6d4b\u536b\u661f: \u80fd\u63a2\u6d4b\u5b87\u5b99\u4e2d\u7684\u5371\u9669"):4==this.equipNum?window.Tips.showCenterText("\u70b8\u5f39: \u80fd\u70b8\u6389\u661f\u7403\u4e00\u534a\u8d28\u91cf\uff0c\u4f7f\u5176\u7f29\u5c0f"):5==this.equipNum?window.Tips.showCenterText("\u6697\u7269\u8d28\u884c\u661f: \u5728\u4e0d\u589e\u5927\u4e3b\u661f\u4e0b\uff0c\u589e\u52a0\u51762\u6210\u8d28\u91cf"):6==this.equipNum&&window.Tips.showCenterText("\u5951\u7ea6\u5341\u5b57\u67b6: \u5951\u7ea6\u8005\u4e0e\u76f8\u540c\u7c7b\u578b\u661f\u7403\u4e92\u4e0d\u5f71\u54cd")),window.Music.playMusic("button")},start:function(){this.node.getComponent(cc.CircleCollider).enabled=!1},changeBuff:function(t){if(this.destroyChildNodes(),0!=t){var e=cc.instantiate(this.countdownPrefab);e.getComponent("countdown").setCooldownTime(30),this.node.addChild(e),this.buffNum=t,this.node.getComponent(cc.CircleCollider).enabled=!0;var i=cc.instantiate(window.Universe.buffsPrefab[t-1]);this.node.addChild(i),i.width=this.node.width,i.height=this.node.height,this.scheduleOnce(this.destroyChildNodes,30)}else this.node.getComponent(cc.CircleCollider).enabled=!1},changeEquip:function(t){if(this.destroyChildNodes(),0!=t){var e=cc.instantiate(this.countdownPrefab);this.node.addChild(e),this.equipNum=t,this.node.getComponent(cc.CircleCollider).enabled=!0;var i=cc.instantiate(window.Universe.equipsPrefab[t-1]);4==t?i.getComponent("decreaseMass").noActivate():5==t?i.getComponent("increaseMass").noActivate():3==t&&i.getComponent("detector").noActivate(),i.width=this.node.width,i.height=this.node.height,this.node.addChild(i)}else this.node.getComponent(cc.CircleCollider).enabled=!1},destroyChildNodes:function(){this.node.destroyAllChildren()}}),cc._RF.pop()},{}],control:[function(t,e){"use strict";cc._RF.push(e,"9e618CiWv9BP4B/JwtqJRSS","control"),cc.Class({extends:cc.Component,properties:{yaogan:{default:null,type:cc.Node},bianjie:{default:null,type:cc.Node},thresholdRadius:50,horizontalInput:0,verticalInput:0},onLoad:function(){this.yaoganPosition=this.yaogan.position,this.bianjie.active=!1,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},onTouchStart:function(t){this.bianjie.active=!0;var e=t.getLocation(),i=this.node.width,n=this.node.height;e.x-=i/2,e.y-=n/2,this.bianjie.setPosition(e);var o=cc.v2(0,0);this.yaogan.setPosition(o)},onTouchMove:function(t){var e=t.getLocation(),i=this.node.width,n=this.node.height;e.x-=i/2,e.y-=n/2;var o=cc.v2(e.x-this.bianjie.x,e.y-this.bianjie.y);o.mag()>=this.thresholdRadius?(o.normalizeSelf().mulSelf(this.thresholdRadius),this.horizontalInput=o.x/this.thresholdRadius,this.verticalInput=o.y/this.thresholdRadius):(this.horizontalInput=0,this.verticalInput=0),this.yaogan.setPosition(o),this.horizontalInput=o.x/this.thresholdRadius,this.verticalInput=o.y/this.thresholdRadius,window.SelfstarScript&&(window.SelfstarScript.setHorizontalInput(this.horizontalInput),window.SelfstarScript.setVerticalInput(this.verticalInput))},onTouchEnd:function(){this.bianjie.active=!1,this.bianjie.setPosition(0,0),this.horizontalInput=0,this.verticalInput=0,window.SelfstarScript&&(window.SelfstarScript.setHorizontalInput(this.horizontalInput),window.SelfstarScript.setVerticalInput(this.verticalInput))},update:function(){}}),cc._RF.pop()},{}],countdown:[function(t,e){"use strict";cc._RF.push(e,"90868iDLnxMU6yh5RxSy0mT","countdown"),cc.Class({extends:cc.Component,properties:{cooldownTime:30,cooldownSprite:cc.Sprite},setCooldownTime:function(t){this.cooldownTime=t,this.startCooldown()},startCooldown:function(){var t=this;this.cooldownSprite.fillRange=1;var e=1/this.cooldownTime;this.schedule(function(){t.cooldownSprite.fillRange>0?t.cooldownSprite.fillRange-=e:t.onCooldownComplete()},1)},onCooldownComplete:function(){console.log("Cooldown Complete!")}}),cc._RF.pop()},{}],decreaseMass:[function(t,e){"use strict";cc._RF.push(e,"34869klna1N85ovuYj+Qbwb","decreaseMass"),cc.Class({extends:cc.Component,properties:{boomPrefab:{default:null,type:cc.Prefab},isInvulnerable:!1,isBoom:!1},onLoad:function(){var t=Math.random()-.5,e=cc.scaleTo(t+1,1.15,1.1),i=cc.scaleTo(t+1,.9,.95),n=cc.rotateBy(t+1,100*t),o=cc.spawn(e,n),s=cc.spawn(i,n),c=cc.sequence(o,s),a=cc.repeatForever(c);this.node.runAction(a)},start:function(){},onCollisionEnter:function(t){if(!this.isBoom){this.isBoom=!0;var e=t.node.getComponent("physics");e&&e.subMass(2);var i=this.node.children;i[0].opacity=0,i[1].opacity=0,this.noActivate();var n=cc.instantiate(this.boomPrefab);this.node.addChild(n);var o=this.node.parent.parent.getComponent("physics");this.scheduleOnce(function(){o.setEquipNum(0)},1.1)}},setFolowNode:function(){},noActivate:function(){this.node.getComponent(cc.CircleCollider).enabled=!1}}),cc._RF.pop()},{}],detector:[function(t,e){"use strict";cc._RF.push(e,"f471cg3aaFGpYwSAN5Sshvo","detector"),cc.Class({extends:cc.Component,properties:{},start:function(){var t=Math.random()-.5,e=cc.rotateBy(t+1,150*t),i=cc.repeatForever(e);this.node.runAction(i)},noActivate:function(){this.node.getComponent(cc.CircleCollider).enabled=!1},onCollisionEnter:function(){this.node.parent.parent.getComponent("physics"),this.node.parent.parent.getComponent("physics").setEquipNum(0)}}),cc._RF.pop()},{}],equip:[function(t,e){"use strict";cc._RF.push(e,"1a5b01kF9BGSYoYBGORq3RM","equip"),cc.Class({extends:cc.Component,properties:{equipNum:0},onLoad:function(){},start:function(){},setEquipNum:function(t){this.equipNum=t;for(var e=this.node.children,i=e.length-1;i>=0;i--)e[i].destroy();if(0!=this.equipNum){var n=null;if(0!=this.equipNum&&2!=this.equipNum?(n=cc.instantiate(window.Universe.equipsPrefab[t-1]),this.node.addChild(n)):this.equipNum,3!=this.equipNum&&4!=this.equipNum&&5!=this.equipNum||(n.y=-125),0!=this.equipNum&&1!=this.equipNum&&2!=this.equipNum){var o=Math.random()-.5,s=cc.rotateBy(o+1,150*o),c=cc.repeatForever(s);this.node.runAction(c)}else this.node.stopAllActions()}else this.node.y=0}}),cc._RF.pop()},{}],increaseMass:[function(t,e){"use strict";cc._RF.push(e,"3f15fV+0KNG7aWUstQh13Zn","increaseMass"),cc.Class({extends:cc.Component,properties:{},start:function(){var t=Math.random()-.5,e=cc.rotateBy(t+1,150*t),i=cc.repeatForever(e);this.node.runAction(i)},noActivate:function(){this.node.getComponent(cc.CircleCollider).enabled=!1},onCollisionEnter:function(){this.node.parent.parent.getComponent("physics"),this.node.parent.parent.getComponent("physics").setEquipNum(0)}}),cc._RF.pop()},{}],intro:[function(t,e){"use strict";cc._RF.push(e,"515dbNTe9tAIKaZSkSD52WC","intro"),cc.Class({extends:cc.Component,properties:{introPrefab:{default:null,type:cc.Prefab}},start:function(){this.node.getComponent(cc.Button).node.on("click",this.onButtonClick,this)},onButtonClick:function(){var t=cc.instantiate(this.introPrefab);this.node.parent.addChild(t),window.Music.playMusic("button")}}),cc._RF.pop()},{}],map:[function(t,e){"use strict";cc._RF.push(e,"3b6475svshFIIijz6nLRYbM","map"),cc.Class({extends:cc.Component,properties:{mouse:{default:null,type:cc.Node},openMap:!1,dtSpeed:100,tag:0,bigMapPrefab:{default:null,type:cc.Prefab},isTouch:!1},runEveryThreeSeconds:function(){var t=window.CanvasComponent.getDirection();this.node.angle=t},start:function(){cc.director.getScheduler().schedule(this.runEveryThreeSeconds,this,60,cc.macro.REPEAT_FOREVER,0,!1),window.map=this;var t=this.node.children;this.disc=t[0],this.hollow=t[1],this.icon=t[2],this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},onTouchStart:function(){var t=cc.instantiate(this.bigMapPrefab);this.node.parent.addChild(t),window.Music.playMusic("button")},onCollisionEnter:function(){this.hollow.opacity=150,this.isTouch=!0},onCollisionExit:function(){this.isTouch=!1},update:function(t){if(this.isTouch){if(this.disc.width>=this.hollow.width){this.openMap=!0,this.mouse.setPosition(0,0);var e=cc.instantiate(this.bigMapPrefab);return this.node.parent.addChild(e),void window.Music.playMusic("button")}var i=100*t;this.disc.width+=i,this.disc.height+=i}else{if(this.disc.width>0){var n=100*t;return this.disc.width-=n,void(this.disc.height-=n)}this.hollow.opacity=0,this.openMap=!1}}}),cc._RF.pop()},{}],miniMap:[function(t,e){"use strict";cc._RF.push(e,"b37481t+z1PXKgoBz6+FcIh","miniMap"),cc.Class({extends:cc.Component,update:function(){}}),cc._RF.pop()},{}],mouse:[function(t,e){"use strict";var i;cc._RF.push(e,"b9e28MwhJFEuJUOJm8qmy6Y","mouse"),cc.Class(((i={extends:cc.Component,properties:{lastWatchX:0,lastWatchY:0,thresholdRadius:180,horizontalInput:0,verticalInput:0,radius:{default:null,type:cc.Node}},onLoad:function(){window.mouse=this},start:function(){},update:function(){},changeWatchXY:function(t,e){var i=-(t-this.lastWatchX)/600*1280,n=-(e-this.lastWatchY)/450*720;this.node.x+i>-640&&this.node.x+i<640&&(this.node.x+=i),this.node.y+n>-360&&this.node.y+n<360&&(this.node.y+=n),this.lastWatchY=e,this.lastWatchX=t}}).update=function(){if(window.Selfstar){var t=Math.sqrt(Math.pow(this.node.x,2)+Math.pow(this.node.y,2));t>this.thresholdRadius?(this.horizontalInput=this.node.x/t,this.verticalInput=this.node.y/t,this.radius.opacity=255):(this.horizontalInput=0,this.verticalInput=0,this.radius.opacity=0)}},i)),cc._RF.pop()},{}],physics:[function(t,e){"use strict";cc._RF.push(e,"ac92eRbV61H2KbDCOdxQ8+u","physics"),cc.Class({extends:cc.Component,properties:{radius:null,mass:1,spriteFramesNum:-1,massAddAlpha:.2,isSelfStar:!1,isInvulnerable:!1,scale:1,equipNum:0,ID:0},onLoad:function(){this.rigidBody=this.getComponent(cc.RigidBody),this.rhysicsCircleCollider=this.getComponent(cc.PhysicsCircleCollider),this.initRadius(),this.initGidbody(),window.stars||(window.stars=[]),window.stars.push(this),this.initEquip()},initEquip:function(){this.isSelfStar||Math.random()<.6||this.scale<.7?this.equipNum=0:(this.equipNum=this.randomRange(1,6),2==this.equipNum&&(this.rigidBody.linearDamping=0));var t=cc.instantiate(window.Universe.equipPrefab);this.node.addChild(t),this.setEquipNum(this.equipNum),2==this.equipNum&&this.initColor()},initColor:function(){var t,e,i,n=this.node.getComponent(cc.ParticleSystem),o=Math.floor(3*Math.random());0===o?(t=255,e=102,i=Math.floor(154*Math.random())+102):1===o?(t=Math.floor(154*Math.random())+102,e=255,i=102):(t=102,e=255,i=Math.floor(154*Math.random())+102);var s=new cc.Color(t,e,i);n.startColor=s},initGidbody:function(){if(this.rigidBody.angularVelocity=10*Math.random(),!this.isSelfStar){var t=Math.random();Math.random()<.3&&(t=0);var e=cc.v2(2*Math.random()-1,2*Math.random()-1).normalize();this.rigidBody.linearDamping=t,this.rigidBody.linearVelocity=e.mulSelf(70)}},addMass:function(t){this.playAction("\u541e\u566c");var e=window.CanvasComponent.growthRate;this.mass+=t*this.massAddAlpha*e,this.changeMass()},subMass:function(t){this.mass=this.mass/t,this.changeMass()},changeMass:function(){if(this.radius=Math.cbrt(this.mass),this.scale=this.radius/window.CanvasComponent.getBeseRadius(),this.node.scale=this.scale,this.rhysicsCircleCollider.density=this.mass/(this.scale*this.scale),this.changeUI(),2==this.equipNum){var t=this.node.getComponent(cc.ParticleSystem),e=40*this.scale,i=12*this.scale;t.startSize=e,t.endSize=i}},changeUI:function(){var t=this.AtoB("radius","sprite",this.radius);if(this.spriteFramesNum!=t){this.spriteFramesNum=t;var e=this.node.children;if(e[0].getComponent(cc.Sprite).spriteFrame=window.Universe.spriteFrames[t],e[1].getComponent(cc.Sprite).spriteFrame=t<11?window.Universe.getHalo(t):null,e[0].scale=t>=11&&t<=16?1.5:1,11==t){var i=new cc.Color(255,141,57);e[0].color=i}else 12==t?(i=new cc.Color(150,150,150),e[0].color=i):(i=new cc.Color(255,255,255),e[0].color=i);this.isSelfStar&&(window.CanvasComponent.setBeseRadius(this.AtoB("sprite","radius",this.spriteFramesNum)),this.massAddAlpha=1/(this.spriteFramesNum+3)-.03)}},refreshScale:function(){var t=this.node.scale,e=this.radius/window.CanvasComponent.getBeseRadius(),i=cc.scaleTo(.2,1.1*t),n=cc.scaleTo(.15,e),o=cc.sequence(i,n);this.node.runAction(o)},initRadius:function(){if(this.isSelfStar)return this.radius=window.CanvasComponent.getBeseRadius(),this.mass=Math.pow(this.radius,3),void this.changeMass();var t=window.Universe.spriteFramesAll,e=t-window.CanvasComponent.distanceCenter/window.CanvasComponent.distanceCenterMax*t+(3*Math.random()-1.5);this.radius=Math.pow(2,e),this.mass=Math.pow(this.radius,3),this.changeMass()},AtoB:function(t,e,i){if("sprite"==t&&"radius"==e)return Math.pow(2,i);if("radius"==t&&"sprite"==e){var n=Math.floor(Math.log(i)/Math.log(2));return n<0&&(n=0),n}return"radius"==t&&"mass"==e?Math.pow(i,3):"mass"==t&&"radius"==e?Math.cbrt(i):void 0},initSelf:function(){var t=this;this.isInvulnerable=!0,this.node.opacity=100,this.initRadius(),this.playAction("\u95ea\u70c1"),setTimeout(function(){cc.isValid(t.node)&&(t.node.opacity=255),t.isInvulnerable=!1},5e3)},setWudi:function(){var t=this;this.isInvulnerable=!0,this.node.opacity=100,this.playAction("\u95ea\u70c1"),setTimeout(function(){cc.isValid(t.node)&&(t.node.opacity=255),t.isInvulnerable=!1},5e3)},onBeginContact:function(t,e,i){var n=i.node.getComponent("physics");if(!n.isInvulnerable&&!this.isInvulnerable){(n.isSelfStar||this.isSelfStar)&&window.Music.playMusic("crash");var o=window.CanvasComponent.buffNum,s=n.mass,c=this.mass;if(5==n.equipNum&&(s*=window.CanvasComponent.increaseRate),5==this.equipNum&&(c*=window.CanvasComponent.increaseRate),c>s){if(this.isSelfStar&&7==o&&0!=n.equipNum&&(this.setEquipNum(n.equipNum),2==n.equipNum)){var a=i.node.getComponent(cc.ParticleSystem).startColor.clone();this.node.getComponent(cc.ParticleSystem).startColor=a}if((6==n.equipNum||6==this.equipNum)&&n.spriteFramesNum==this.spriteFramesNum)return n.setWudi(),void(this.isSelfStar&&window.Tips.showCenterText("\u5341\u5b57\u67b6\u5951\u7ea6\u8005\u4e0e\u540c\u7c7b\u8fbe\u6210\u8054\u76df"));if(1==n.equipNum)return this.isSelfStar&&window.Tips.showCenterText("\u300a\u76fe\u76fe\u6ce1\u6ce1\u300b\u4fdd\u4e86\u5b83\u4e00\u547d"),n.setWudi(),void n.setEquipNum(0);this.addMass(s),n.isSelfStar?n.initSelf():(window.Universe.changeNumStars(-1),i.node.destroy())}else{if(s.isSelfStar&&7==o&&0!=this.equipNum&&(s.setEquipNum(this.equipNum),2==this.equipNum)&&(a=this.node.getComponent(cc.ParticleSystem).startColor.clone(),i.node.getComponent(cc.ParticleSystem).startColor=a),(6==n.equipNum||6==this.equipNum)&&n.spriteFramesNum==this.spriteFramesNum)return void this.setWudi();if(1==this.equipNum)return this.setWudi(),void this.setEquipNum(0);n.addMass(this.mass),this.isSelfStar?this.initSelf():this.node.destroy()}}},setEquipNum:function(t){this.equipNum=t,this.node.children[2].getComponent("equip").setEquipNum(this.equipNum);var e=this.node.getComponent(cc.ParticleSystem);2==this.equipNum?e.enabled=!0:e.enabled=!1,this.isSelfStar&&(0!=t&&(1==t?window.Tips.showCenterText("\u76fe\u76fe\u6ce1\u6ce1: \u4fdd\u8bc1\u4e00\u6b21\u4e0d\u88ab\u541e\u566c\uff0c\u76f8\u5f53\u4e8e\u590d\u6d3b\u7532"):2==t?window.Tips.showCenterText("\u524d\u8fdb\u6ce1\u6ce1: \u80fd\u4f7f\u661f\u7403\u79fb\u52a8\u66f4\u5feb"):3==t?window.Tips.showCenterText("\u63a2\u6d4b\u536b\u661f: \u80fd\u63a2\u6d4b\u5b87\u5b99\u4e2d\u7684\u5371\u9669"):4==t?window.Tips.showCenterText("\u70b8\u5f39: \u80fd\u70b8\u6389\u661f\u7403\u4e00\u534a\u8d28\u91cf\uff0c\u4f7f\u5176\u7f29\u5c0f"):5==t?window.Tips.showCenterText("\u6697\u7269\u8d28\u884c\u661f: \u5728\u4e0d\u589e\u5927\u4e3b\u661f\u4e0b\uff0c\u589e\u52a0\u51762\u6210\u8d28\u91cf"):6==t&&window.Tips.showCenterText("\u5951\u7ea6\u5341\u5b57\u67b6: \u5951\u7ea6\u8005\u4e0e\u76f8\u540c\u7c7b\u578b\u661f\u7403\u4e92\u4e0d\u5f71\u54cd"),window.Tips.changeEquip(t),window.Music.playMusic("equip")),2==this.equipNum?window.CanvasComponent.setMaxSpeed(400):window.CanvasComponent.setMaxSpeed(250))},onDestroy:function(){var t=window.stars.indexOf(this);t>-1&&window.stars.splice(t,1)},applyGravity:function(){window.stars||(window.stars=[]);for(var t=1.5*Math.pow(10,7),e=window.CanvasComponent.buffNum,i=0;i<window.stars.length;i++){var n=window.stars[i];if(n!==this){var o=n.node.position.sub(this.node.position),s=o.mag(),c=1;if(6==e&&(c=3),s>3*n.node.width*n.scale*c&&s>3*this.node.width*this.scale*c||this.isInvulnerable){var a=o.normalize().mul(0);this.rigidBody.applyForceToCenter(a,!0)}else if(!n.isInvulnerable){var r=window.CanvasComponent.forceSet,h=0;1==r?h=t*this.mass*n.mass/Math.pow(s,2):2==r?h=-t*this.mass*n.mass/Math.pow(s,2):0==r&&(this.isSelfStar||n.isSelfStar)&&(h=t*this.mass*n.mass/Math.pow(s,2)),h*=c;var u=o.normalize().mul(h/this.mass);this.rigidBody.applyForceToCenter(u,!0)}}}},setEquip:function(){},update:function(t){this.applyGravity(t)},randomRange:function(t,e){return Math.floor(Math.random()*(e-t))+t},playAction:function(t){switch(t){case"\u541e\u566c":this.playEatingAnimation();break;case"\u6d88\u5931":this.playBeingEatenAnimation();break;case"\u95ea\u70c1":this.playblink();break;default:console.error("\u672a\u77e5\u7684\u52a8\u4f5c\u7c7b\u578b: "+t)}},playEatingAnimation:function(){var t=this.node.scale,e=cc.scaleTo(.1,1.2*t),i=cc.scaleTo(.1,1*t),n=cc.sequence(e,i);this.node.runAction(n)},playBeingEatenAnimation:function(){var t=this;this.rigidBody.setType(cc.RigidBodyType.Static);var e=cc.scaleTo(.5,0),i=cc.fadeOut(.5),n=cc.spawn(e,i),o=cc.sequence(n,cc.callFunc(function(){t.node.destroy()}));this.node.runAction(o)},playblink:function(){var t=cc.repeat(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5)),5);this.node.runAction(t)}}),cc._RF.pop()},{}],propeller:[function(t,e){"use strict";cc._RF.push(e,"820f102GwhPVpzMscYuJ3As","propeller"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],ring:[function(t,e){"use strict";cc._RF.push(e,"fde5avwASZD34S+/M22+BAQ","ring"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=Math.random()-.5,e=cc.scaleTo(1.5+t,1.1,1),i=cc.scaleTo(1.5+t,1,1.1),n=cc.sequence(e,i),o=cc.repeatForever(n);this.node.runAction(o)},start:function(){}}),cc._RF.pop()},{}],side:[function(t,e){"use strict";cc._RF.push(e,"fc8227x04BJE6jrzmJx9hWp","side"),cc.Class({extends:cc.Component,properties:{side:0},onBeginContact:function(t,e,i){i.node.destroy()},update:function(){}}),cc._RF.pop()},{}],tenmeterAction:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}cc._RF.push(e,"400393g80xBObwmYsBuj/0V","tenmeterAction");var a=function(){function t(t,e){this._x=void 0,this._y=void 0,this._x=t||0,this._y=e||0}return t.v2=function(e,i){return new t(e,i)},t.add=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},t.sub=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.mag=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},o(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}}]),t}(),r=function(){function t(t,e,i){this._x=void 0,this._y=void 0,this._z=void 0,this._x=t||0,this._y=e||0,this._z=i||0}var e=t.prototype;return e.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.addSelf=function(t){this._x+=t.x,this._y+=t.y,this._z+=t.z},o(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._y=t}},{key:"z",get:function(){return this._z},set:function(t){this._z=t}}],[{key:"ZERO",get:function(){return new t(0,0,0)}}]),t}(),h=function(){function t(){this._lastPos=null,this.Reset()}var e=t.prototype;return e.init=function(){this._lastPos=null},e.Reset=function(){this._lastPos=null},e.commOptional=function(t){var e={xRate:1,yRate:1,speedDropLimit:0};for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t},e.getDelta=function(t,e,i,n,o){void 0===o&&(o={}),o=this.commOptional(o);var s=a.v2(t,e);if(this._lastPos){var c=a.sub(this._lastPos,s);if(c.x>1e3?c.x=c.x-3600:c.x<-1e3&&(c.x=c.x+3600),c.y>900?c.y=c.y-1800:c.y<-900&&(c.y=c.y+1800),!(Math.abs(i)<o.speedDropLimit))return this._lastPos=s,c.x*=o.xRate,c.y*=o.yRate,c;this._lastPos=s}else this._lastPos=s},t}(),u=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.move=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return o?(o.y=0,o):{x:0,y:0}},e}(h),d=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.move=function(t,e,i,n){return void 0===n&&(n={}),this.getDelta(t,e,i,0,n)||{x:0,y:0}},e}(h),l=function(t){function e(e){var i;return void 0===e&&(e=50),(i=t.call(this)||this).yMove=void 0,i.height=void 0,i.height=e,i.yMove=0,i}return s(e,t),e.prototype.jump=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return!!o&&(this.yMove+=Math.abs(o.y),this.yMove>=this.height&&(this.yMove=0,!0))},e}(h),p=function(t){function e(e){var i;return void 0===e&&(e=20),(i=t.call(this)||this).accSpeed=0,i.accSpeed=e,i}return s(e,t),e.prototype.jumpRope=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return!!o&&a.mag(o)>this.accSpeed},e}(h),f=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.boating=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);if(o)return a.mag(o)>40},e}(h),m=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.hammering=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return!!o&&o.y<=0&&Math.abs(o.y)>40},e}(h),w=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.swim=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return o&&a.mag(o)>40?a.mag(o):0},e}(h),v=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.climb=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return o&&a.mag(o)>40?a.mag(o):0},e}(h),b=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.throw=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return o&&a.mag(o)>30?a.mag(o):0},e}(h),g=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.wave=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return o&&a.mag(o)>40?a.mag(o):0},e}(h),C=function(t){function e(){return t.call(this)||this}s(e,t);var i=e.prototype;return i.forehand=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return o&&o.x<0&&a.mag(o)>40?a.mag(o):0},i.backhand=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return o&&o.x>0&&a.mag(o)>40?a.mag(o):0},e}(h),y=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.punch=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);if(o)return a.mag(o)>40},e}(h),S=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.running=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);if(o)return a.mag(o)>40},e}(h),N=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.shake=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);if(o)return a.mag(o)>40},e}(h),M=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.heightWave=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return!!o&&Math.abs(o.y)>40},e}(h),x=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.skate=function(t,e,i,n){void 0===n&&(n={});var o=this.getDelta(t,e,i,0,n);return o&&a.mag(o)>40?a.mag(o):0},e}(h);i.BaseCtrl=h,i.BoatingAct=f,i.ClimbAct=v,i.DEF_DIR={left:1,right:2,up:3,down:4},i.FreeMoveAct=d,i.HammeringAct=m,i.HeightWaveAct=M,i.JumpAct=l,i.JumpRopeAct=p,i.LRMoveAct=u,i.PingpongAct=C,i.PunchAct=y,i.RunningAct=S,i.ShakeAct=N,i.SkateAct=x,i.SwimAct=w,i.ThrowAct=b,i.Vec2=a,i.Vec3=r,i.WaveAct=g,cc._RF.pop()},{}],text:[function(t,e){"use strict";cc._RF.push(e,"71b3e4Frh9HSpcMbbAwhvYI","text"),cc.Class({extends:cc.Component,properties:{Label:{default:null,type:cc.Label}},start:function(){var t=this,e=2*Math.PI*Math.random(),i=50*Math.cos(e),n=50*Math.sin(e)-350;this.node.setPosition(i,n),this.node.opacity=0;var o=cc.fadeIn(.5),s=cc.moveBy(.5,cc.v2(0,10)),c=cc.moveBy(.5,cc.v2(0,-10)),a=cc.spawn(o,s);this.node.runAction(a),this.scheduleOnce(function(){var e=cc.fadeOut(.5),i=cc.spawn(e,c),n=cc.callFunc(function(){t.node.destroy()}),o=cc.sequence(i,n);t.node.runAction(o)},2)},showText:function(t){this.Label.string=t,this.node.children[1];var e=this.node.children[0],i=this.calculateTextWidth(t)+150;e.width=i},calculateTextWidth:function(t){for(var e=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);this.isChineseCharacter(n)?e+=70:e+=37}return e},isChineseCharacter:function(t){return t>=19968&&t<=40959}}),cc._RF.pop()},{}],union:[function(t,e){"use strict";cc._RF.push(e,"31e87EX38lEQYXon2XYW3qF","union"),cc.Class({extends:cc.Component,properties:{szjNode:cc.Node},start:function(){var t=this,e=Math.random()-.5;this.szjNode.scale=0,this.szjNode.opacity=255;var i=cc.scaleTo(1.7+e,1),n=cc.fadeTo(1.7+e,0),o=cc.callFunc(function(){t.szjNode.scale=0,t.szjNode.opacity=255}),s=cc.spawn(i,n),c=cc.sequence(s,o),a=cc.repeatForever(c);this.szjNode.runAction(a);var r=cc.rotateBy(2,150*e),h=cc.repeatForever(r);this.node.runAction(h)}}),cc._RF.pop()},{}],watch:[function(t,e){"use strict";cc._RF.push(e,"82e75ymcR5OJ5rqKVc4JrkG","watch"),cc.Class({extends:cc.Component,properties:{baseBridgeX:0,nowBridgeX:-1500},onLoad:function(){window.watch=this,this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},onTouchEnd:function(){this.baseBridgeX=this.nowBridgeX},onDestroy:function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},changeBaseBridgeX:function(t){this.nowBridgeX=t;var e=this.nowBridgeX-this.baseBridgeX,i=cc.misc.lerp(-180,180,(e+1800)/3600);this.node.angle=i}}),cc._RF.pop()},{}]},{},["Background","Camera","Canvas","Logo","Meteor","MovedBySelfStar","Music","Selfstar","Tips","bigIntro","bigMap","button","countdown","intro","map","Universe","WebviewBridge","Zhiying","buff","control","equip","decreaseMass","detector","increaseMass","propeller","ring","miniMap","mouse","physics","side","tenmeterAction","text","union","watch"]);